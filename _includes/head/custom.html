{% include base_path %}

<!-- start custom head snippets -->

<!-- favicon from https://commons.wikimedia.org/wiki/File:OOjs_UI_icon_academic-progressive.svg -->
<link rel="apple-touch-icon" sizes="180x180" href="{{ base_path }}/images/apple-touch-icon-180x180.png"/>
<link rel="icon" type="image/svg+xml" href="{{ base_path }}/images/favicon.svg"/>
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-32x32.png" sizes="32x32"/>
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-192x192.png" sizes="192x192"/>
<link rel="manifest" href="{{ base_path }}/images/manifest.json"/>
<link rel="icon" href="/images/favicon.ico"/>
<meta name="theme-color" content="#ffffff"/>
<link rel="stylesheet" href="{{ base_path }}/assets/css/academicons.css"/>


<!-- Language dropdown: keeps the same path, switches / â†” /de/ -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  var target =
    document.querySelector('.masthead .masthead__menu') ||
    document.querySelector('.masthead .inner-wrap') ||
    document.querySelector('.masthead');
  if (!target || document.getElementById('lang-switcher')) return;

  var path = window.location.pathname || "/";

  // Normalize: strip any leading "/de/" to get the base English path
  function toBase(p) { return p.replace(/^\/de(\/|$)/, "/"); }
  function toDe(p)   { return "/de" + toBase(p).replace(/^\/+/, "/"); }

  var isGerman = /^\/de(\/|$)/.test(path);
  var enHref = toBase(path);
  var deHref = toDe(path);

  var wrap = document.createElement('div');
  wrap.id = 'lang-switcher';
  wrap.innerHTML = `
    <label for="lang-select" class="ls-label" aria-label="Language"></label>
    <select id="lang-select" aria-label="Change language">
      <option value="${enHref}" ${isGerman ? "" : "selected"}>EN</option>
      <option value="${deHref}" ${isGerman ? "selected" : ""}>DE</option>
    </select>
  `;
  wrap.addEventListener('change', function (e) {
    var href = e.target.value;
    if (href) window.location.href = href;
  });
  target.appendChild(wrap);
});
</script>


<!-- end custom head snippets -->
